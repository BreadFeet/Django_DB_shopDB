<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Item Detail Page</title>
</head>
<body>
    <h1>Item Detail Page</h1>
    <img src="static/img/{{item.imgname}}">     <!--load static 하지 않고도 불러올 수 있다-->
    <h3>ID: {{item.id}}</h3>
    <h3>NAME: {{item.name}}</h3>
    <h3>PRICE: {{item.price}}</h3>
    <h3>REGDATE: {{item.regdate}}</h3>
    <h4><a href="{% url 'itemdelete' %}?id={{item.id}}">DELETE</a></h4>
    <h4><a href="{% url 'itemupdate' %}?id={{item.id}}">UPDATE</a></h4>
    <!--원래 update에는 id, name, price, imgname이 필요한데 id만 쿼리스트링에 넣는 이유: id를 통해 selectOne으로 정보를 불러온 뒤 update할 것이기 때문에-->

    {% if request.session.logincust != None %}    <!--로그인 한 상태라면-->
        <form action="inputcart" method="get">
            <input type="hidden" name="custid" value="{{request.session.logincust.id}}">
            <input type="hidden" name="itemid" value="{{item.id}}">
            NUM <input type="number" name="num">
            <input type="submit" value="CART">
        </form>
    {% endif %}
</body>
</html>